<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Formul√°rio ‚Äì Atendimento Jur√≠dico Especializado</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg:#0f1222; --card:#171a2e; --ink:#e9ecff; --muted:#a9b0d6;
      --pri:#6c8cff; --pri-ink:#0a0e2b; --warn:#ffd166; --border:#2a2e4b;
      --accent:#b8c6ff; --chip:#0f1330; --chip-b:#2a2e4b;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.5}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px}
    /* HEADER */
    .hero{background:linear-gradient(180deg,#1c203d,#12152a);border:1px solid var(--border);border-radius:16px;padding:18px 18px 22px;margin-bottom:18px}
    .brand{display:flex;flex-direction:column;align-items:center;gap:12px}
    .brand picture,.brand img{width:100%;max-width:320px;height:auto;display:block}
    .brand h1{margin:0 0 6px;font-weight:800;letter-spacing:.8px;text-align:center}
    .oabs{font-size:.82rem;color:var(--muted);margin-top:8px;text-align:center}
    .subtitle{margin:.35rem 0 0;color:#fff;font-weight:700;text-align:center;font-size:1.08rem}

    /* CARDS */
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;margin:14px 0}
    .grid{display:grid;gap:12px}
    @media (min-width:720px){ .grid.cols-2{grid-template-columns:1fr 1fr} }
    label{display:block;font-size:.9rem;color:var(--muted);margin:4px 0 6px}
    input,select,textarea{width:100%;background:#0f1330;color:var(--ink);border:1px solid var(--border);border-radius:10px;padding:12px 12px;outline:none}
    textarea{min-height:96px;resize:vertical}
    .section-title{margin:0 0 8px;font-weight:700;font-size:1.06rem}
    .hide{display:none !important}
    .btns{display:flex;gap:12px;flex-wrap:wrap}
    .btn{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer;background:var(--pri);color:var(--pri-ink)}
    .req::after{content:" *";color:var(--warn);font-weight:700}
    .callout{background:#13273a;border:1px solid #1b3953;padding:12px 14px;border-radius:12px;margin-top:16px}
    a{color:var(--accent);text-decoration:none}
    footer{text-align:center;margin:30px 0 20px;color:var(--muted);font-size:.85rem}
    .pill{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border:1px solid var(--border);border-radius:999px;margin:6px 8px 0 0;user-select:none}
    .pill input{margin:0}
    .err{color:#ff6b6b;font-size:.9rem;display:none}

    /* Chips responsivos ‚Äì n√£o desconfigura no iOS */
    .chips{display:flex;flex-wrap:wrap;gap:10px}
    .chip{display:flex;align-items:center;gap:8px;background:var(--chip);border:1px solid var(--chip-b);border-radius:12px;padding:10px 12px;min-width: 46%;max-width: 100%}
    @media (min-width:720px){ .chip{min-width: 31%} }
    .chip input{flex:0 0 auto}
    .chip span{display:block;white-space:normal;line-height:1.3}

    hr.sep{border:0;border-top:1px dashed var(--border);margin:14px 0}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- HEADER -->
    <section class="hero" aria-label="Identidade">
      <div class="brand">
        <picture>
          <source srcset="logo-juliano-garbuggio.png.webp" type="image/webp">
          <img src="logo-juliano-garbuggio.png" alt="Logo Juliano Garbuggio">
        </picture>
        <h1>JULIANO GARBUGGIO | ADVOCACIA &amp; CONSULTORIA</h1>
      </div>
      <div class="oabs">OAB/SP 505.598 &nbsp;|&nbsp; OAB/PR 47.565 &nbsp;|&nbsp; OAB/MG 234.362</div>
      <p class="subtitle">Preencha seus dados para atendimento especializado.</p>
    </section>

    <form id="form" novalidate>
      <!-- CONTEXTO -->
      <section class="card">
        <h2 class="section-title">1) Contexto do Atendimento</h2>
        <div class="grid cols-2">
          <div style="grid-column:1/-1">
            <label class="req" for="motivo">Motivo do atendimento</label>
            <select id="motivo" required>
              <option value="">Selecione‚Ä¶</option>
              <option value="cadastro">1 ‚Äî Atualiza√ß√£o de cadastro | Procura√ß√£o</option>
              <option value="emprestimos">2 ‚Äî Info Revis√µes de Empr√©stimos (bancos)</option>
              <option value="outras_acoes">3 ‚Äî Info Outras A√ß√µes</option>
              <option value="duvidas">4 ‚Äî Outras d√∫vidas, sugest√µes, cr√≠ticas</option>
            </select>
          </div>

          <!-- Tipo de contato: s√≥ aparece para op√ß√£o 2 (Empr√©stimos) -->
          <div id="tipo_wrap" class="hide" style="grid-column:1/-1">
            <label class="req">Tipo de contato (somente para revis√µes de empr√©stimos)</label>
            <div>
              <label class="pill"><input type="radio" name="tipo" value="Consignado INSS" required> Consignado INSS</label>
              <label class="pill"><input type="radio" name="tipo" value="Consignado p√∫blico/privado"> Consignado p√∫blico/privado</label>
              <label class="pill"><input type="radio" name="tipo" value="Financiamento banc√°rio"> Financiamento banc√°rio</label>
              <label class="pill"><input type="radio" name="tipo" value="Direito Digital"> Direito Digital</label>
              <label class="pill"><input type="radio" name="tipo" value="Direito M√©dico"> Direito M√©dico</label>
              <label class="pill"><input type="radio" name="tipo" value="Outros casos Direito Consumidor | Civil"> Outros casos Direito Consumidor | Civil</label>
              <label class="pill"><input type="radio" name="tipo" value="D√∫vida geral"> D√∫vida geral</label>
            </div>
          </div>
        </div>
      </section>

      <!-- SEC√á√ÉO SIMPLES (para op√ß√µes 3 e 4) -->
      <section class="card" id="sec-simples" class="hide">
        <h2 class="section-title">2) Dados para contato</h2>
        <div class="grid cols-2">
          <div><label class="req" for="nome_s">Nome completo</label><input id="nome_s" required></div>
          <div><label class="req" for="cpf_s">CPF</label><input id="cpf_s" placeholder="000.000.000-00" required></div>

          <!-- Identifica√ß√£o complementar (opcional) -->
          <div style="grid-column:1/-1">
            <label>Identifica√ß√£o complementar (opcional)</label>
            <div class="pill"><input type="checkbox" id="ident_comp_s"> <span>Quero informar nome social/pronomes</span></div>
          </div>
          <div id="ident-comp-bloco-s" class="hide" style="grid-column:1/-1">
            <div class="grid cols-2">
              <div><label for="nome_social_s">Nome social</label><input id="nome_social_s" placeholder="Opcional"></div>
              <div><label for="pronomes_s">Pronomes (ex.: ela/dela, ele/dele, elu/delu)</label><input id="pronomes_s" placeholder="Opcional"></div>
            </div>
            <hr class="sep">
          </div>

          <!-- Identidade de g√™nero (opcional) -->
          <div style="grid-column:1/-1">
            <label>Auto Declara√ß√£o ‚Äì Identidade de G√™nero (opcional)</label>
            <div class="pill"><input type="checkbox" id="ident_genero_toggle_s"> <span>Quero informar</span></div>
            <div id="genero-opcoes-s" class="hide" style="margin-top:10px">
              <div class="chips">
                <label class="chip"><input type="checkbox" value="Mulher cisg√™nera"><span>Mulher cisg√™nera</span></label>
                <label class="chip"><input type="checkbox" value="Homem cisg√™nero"><span>Homem cisg√™nero</span></label>
                <label class="chip"><input type="checkbox" value="Mulher transg√™nera"><span>Mulher transg√™nera</span></label>
                <label class="chip"><input type="checkbox" value="Homem transg√™nero"><span>Homem transg√™nero</span></label>
                <label class="chip"><input type="checkbox" value="Travesti"><span>Travesti</span></label>
                <label class="chip"><input type="checkbox" value="N√£o-bin√°rie"><span>N√£o-bin√°rie</span></label>
                <label class="chip"><input type="checkbox" value="Prefiro n√£o dizer"><span>Prefiro n√£o dizer</span></label>
                <label class="chip"><span>Outro:</span> <input id="genero_outro_s" placeholder="especifique" style="width:160px"></label>
              </div>
            </div>
          </div>

          <div><label class="req" for="cel_s">WhatsApp</label><input id="cel_s" placeholder="(11) 9xxxx-xxxx" required></div>
          <div><label for="email_s">E-mail</label><input id="email_s" type="email" placeholder="voce@email.com"></div>
          <div><label class="req" for="cep_s">CEP</label><input id="cep_s" placeholder="00000-000" required></div>
          <div><label class="req" for="cidadeuf_s">Cidade/UF</label><input id="cidadeuf_s" placeholder="Cidade/UF" required></div>
          <div class="cols-2" style="grid-column:1/-1">
            <label for="breve">Relate brevemente o motivo do contato</label>
            <textarea id="breve" placeholder="Ex.: cobran√ßa indevida, d√∫vida sobre contrato, etc."></textarea>
          </div>
        </div>
      </section>
            <!-- TELA COMPLETA ‚Äì Op√ß√£o 1 -->
      <section class="card hide" id="sec-completo">
        <h2 class="section-title">2) Dados pessoais</h2>

        <div class="grid cols-2">
          <div><label class="req" for="nome">Nome completo</label><input id="nome" required></div>

          <!-- Identifica√ß√£o complementar -->
          <div style="grid-column:1/-1">
            <label>Identifica√ß√£o complementar (opcional)</label>
            <div class="pill"><input type="checkbox" id="ident_comp"><span>Quero informar nome social/pronomes</span></div>
          </div>
          <div id="ident-comp-bloco" class="hide" style="grid-column:1/-1">
            <div class="grid cols-2">
              <div><label for="nome_social">Nome social</label><input id="nome_social" placeholder="Opcional"></div>
              <div><label for="pronomes">Pronomes (ex.: ela/dela, ele/dele, elu/delu)</label><input id="pronomes" placeholder="Opcional"></div>
            </div>
            <hr class="sep">
          </div>

          <!-- Nacionalidade -->
          <div>
            <label class="req" for="nacionalidade">Nacionalidade</label>
            <select id="nacionalidade">
              <option>Brasileiro(a)</option><option>Outros</option>
            </select>
          </div>
          <div id="nac_outros_wrap" class="hide">
            <label for="nac_outros">Qual?</label><input id="nac_outros" placeholder="Especifique">
          </div>

          <div><label class="req" for="nasc">Data de nascimento</label><input id="nasc" placeholder="dd/mm/aaaa" inputmode="numeric" maxlength="10"></div>
          <div><label class="req" for="ec">Estado civil</label>
            <select id="ec"><option value="">Selecione‚Ä¶</option><option>Solteiro(a)</option><option>Casado(a)</option><option>Uni√£o est√°vel</option><option>Divorciado(a)</option><option>Vi√∫vo(a)</option></select>
          </div>

          <div><label class="req" for="prof">Profiss√£o</label>
            <select id="prof">
              <option value="">Selecione</option>
              <option>Advogado</option><option>Professor</option><option>Servidor p√∫blico</option><option>Aposentado</option><option>Aut√¥nomo</option>
              <option value="OUTROS">Outros</option>
            </select>
          </div>
          <div id="prof_outros_wrap" class="hide"><label for="prof_outros">Outra profiss√£o</label><input id="prof_outros" placeholder="Especifique"></div>

          <div><label class="req" for="rg">RG</label><input id="rg" placeholder="00.000.000-X"></div>
          <div><label class="req" for="rguf">UF do RG</label>
            <select id="rguf"><option value="">UF</option><option>SP</option><option>PR</option><option>MG</option><option>RJ</option><option>RS</option><option>SC</option><option>Outros</option></select>
          </div>
          <div><label class="req" for="cpf">CPF</label><input id="cpf" placeholder="000.000.000-00"></div>
        </div>

        <!-- Identidade de g√™nero -->
        <div style="margin-top:10px">
          <label>Auto Declara√ß√£o ‚Äì Identidade de G√™nero (opcional)</label>
          <div class="pill"><input type="checkbox" id="ident_genero_toggle"><span>Quero informar</span></div>
          <div id="genero-opcoes" class="hide" style="margin-top:10px">
            <div class="chips">
              <label class="chip"><input type="checkbox" value="Mulher cisg√™nera"><span>Mulher cisg√™nera</span></label>
              <label class="chip"><input type="checkbox" value="Homem cisg√™nero"><span>Homem cisg√™nero</span></label>
              <label class="chip"><input type="checkbox" value="Mulher transg√™nera"><span>Mulher transg√™nera</span></label>
              <label class="chip"><input type="checkbox" value="Homem transg√™nero"><span>Homem transg√™nero</span></label>
              <label class="chip"><input type="checkbox" value="Travesti"><span>Travesti</span></label>
              <label class="chip"><input type="checkbox" value="N√£o-bin√°rie"><span>N√£o-bin√°rie</span></label>
              <label class="chip"><input type="checkbox" value="Prefiro n√£o dizer"><span>Prefiro n√£o dizer</span></label>
              <label class="chip"><span>Outro:</span> <input id="genero_outro" placeholder="especifique" style="width:160px"></label>
            </div>
          </div>
        </div>

        <!-- ENDERE√áO -->
        <h2 class="section-title" style="margin-top:16px">Endere√ßo</h2>
        <div class="grid cols-2">
          <div><label class="req" for="cep">CEP</label><input id="cep" placeholder="00000-000"></div>
          <div><label class="req" for="rua">Rua / Avenida</label><input id="rua"></div>
          <div><label class="req" for="num">N√∫mero</label><input id="num"></div>
          <div><label for="compl">Complemento</label><input id="compl"></div>
          <div><label class="req" for="bairro">Bairro</label><input id="bairro"></div>
          <div><label class="req" for="uf">UF</label>
            <select id="uf"><option value="">UF</option><option>SP</option><option>PR</option><option>MG</option><option>RJ</option><option>RS</option><option>Outros</option></select>
          </div>
          <div><label class="req" for="cidade">Cidade</label><input id="cidade"></div>
        </div>

        <!-- CONTATO -->
        <h2 class="section-title" style="margin-top:16px">Contato</h2>
        <div class="grid cols-2">
          <div><label class="req" for="ddd">DDD</label><input id="ddd" placeholder="11"></div>
          <div><label class="req" for="cel">WhatsApp</label><input id="cel" placeholder="95675-9223"></div>
          <div><label class="req" for="email">E-mail</label><input id="email" type="email" placeholder="voce@email.com"></div>
        </div>
      </section>

      <!-- LGPD -->
      <section class="card callout" id="lgpd-bloco">
        <p><strong>Envio direto ao WhatsApp Business de Juliano Garbuggio:</strong> ao prosseguir, o conte√∫do ser√° preparado para envio no aplicativo. Seus dados ser√£o tratados exclusivamente para fins de atendimento confidencial, conforme a LGPD e o sigilo profissional da OAB.</p>
        <label><input type="checkbox" id="lgpd" required> Li e concordo com o Aviso de Privacidade acima e autorizo o envio desta solicita√ß√£o via WhatsApp Business (+55 11 95675-9223).</label>
        <p id="lgpd-erro" class="err">√â necess√°rio concordar com o aviso de privacidade.</p>
      </section>

      <section class="card">
        <div class="btns">
          <button class="btn" id="btn-enviar" type="submit">Salvar + Enviar WhatsApp</button>
        </div>
      </section>
        <script>
    const $  = (s)=>document.querySelector(s);
    const $$ = (s)=>Array.from(document.querySelectorAll(s));

    const isMobile = ()=> /Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent);
    const isiOS    = ()=> /iPhone|iPad|iPod/i.test(navigator.userAgent);

    /* ========== M√ÅSCARAS E UTILIDADES ========== */
    const maskCPF=(el)=>{let v=el.value.replace(/\D/g,'').slice(0,11);el.value=v.replace(/^(\d{3})(\d{3})(\d{3})(\d{0,2}).*/,"$1.$2.$3-$4")};
    const maskCEP=(el)=>{let v=el.value.replace(/\D/g,'').slice(0,8);el.value=v.replace(/^(\d{5})(\d{0,3}).*/,"$1-$2")};
    const maskDDD=(el)=>el.value=el.value.replace(/\D/g,'').slice(0,2);
    const maskFone=(el)=>el.value=el.value.replace(/\D/g,'').slice(0,9).replace(/^(\d{5})(\d{4}).*/,"$1-$2");
    const maskData=(el)=>{let v=el.value.replace(/\D/g,'').slice(0,8);el.value=v.replace(/^(\d{2})(\d{2})(\d{0,4}).*/,"$1/$2/$3")};
    const gerarProtocolo=()=>`JG-${new Date().toISOString().replace(/[-T:.Z]/g,'').slice(0,14)}-${Math.floor(Math.random()*9999)}`;

    const isValidCPF=(cpf)=>{
      cpf=(cpf||'').replace(/\D/g,'');if(cpf.length!==11||/^([0-9])\1+$/.test(cpf))return false;
      let s=0;for(let i=0;i<9;i++)s+=cpf[i]* (10-i);let r=11-(s%11);if(r>=10)r=0;if(r!=cpf[9])return false;
      s=0;for(let i=0;i<10;i++)s+=cpf[i]*(11-i);r=11-(s%11);if(r>=10)r=0;return r==cpf[10];
    };

    async function viaCEP(cep){
      try{
        const r=await fetch(`https://viacep.com.br/ws/${cep}/json/`);
        const j=await r.json();return j.erro?null:j;
      }catch{return null}
    }
    async function autoCEP(cepEl,cidadeEl,ufEl,ruaEl,bairroEl,cidadeCompactEl){
      const raw=(cepEl.value||'').replace(/\D/g,'');
      if(raw.length!==8)return;
      const j=await viaCEP(raw);
      if(!j)return;
      if(cidadeEl)cidadeEl.value=j.localidade||'';
      if(ufEl)ufEl.value=j.uf||'';
      if(ruaEl)ruaEl.value=j.logradouro||'';
      if(bairroEl)bairroEl.value=j.bairro||'';
      if(cidadeCompactEl)cidadeCompactEl.value=`${j.localidade}/${j.uf}`;
    }

    /* ========== COLETA E MENSAGENS ========== */
    const coleta=(modo)=>{
      const obj={motivo:$('#motivo').value};
      if(modo==='simples'){
        obj.nome=$('#nome_s').value;
        obj.cpf=$('#cpf_s').value;
        obj.cel=$('#cel_s').value;
        obj.email=$('#email_s').value;
        obj.cep=$('#cep_s').value;
        obj.cidadeuf=$('#cidadeuf_s').value;
        obj.breve=$('#breve').value;
      }else if(modo==='completo'){
        obj.nome=$('#nome').value;
        obj.cpf=$('#cpf').value;
        obj.rg=$('#rg').value;
        obj.rguf=$('#rguf').value;
        obj.nasc=$('#nasc').value;
        obj.prof=$('#prof').value==='OUTROS'?$('#prof_outros').value:$('#prof').value;
        obj.ec=$('#ec').value;
        obj.rua=$('#rua').value;
        obj.num=$('#num').value;
        obj.bairro=$('#bairro').value;
        obj.cidade=$('#cidade').value;
        obj.uf=$('#uf').value;
        obj.ddd=$('#ddd').value;
        obj.cel=$('#cel').value;
        obj.email=$('#email').value;
        obj.cep=$('#cep').value;
      }
      return obj;
    };

    const montarMsg=(d,modo,protocolo)=>{
      let base=[`üìù Novo cadastro ‚Äì *${d.nome}*`,`Motivo: ${$('#motivo').selectedOptions[0].text}`];
      if(modo==='completo'){
        base.push(`CPF: ${d.cpf} | RG: ${d.rg}/${d.rguf}`,`Profiss√£o: ${d.prof}`,`Cidade: ${d.cidade}/${d.uf}`,`WhatsApp: (${d.ddd}) ${d.cel}`,`E-mail: ${d.email}`);
      }else{
        base.push(`CPF: ${d.cpf} | WhatsApp: ${d.cel}`);
        if(d.email)base.push(`E-mail: ${d.email}`);
        if(d.cidadeuf)base.push(`Cidade/UF: ${d.cidadeuf}`);
        if(d.breve)base.push(`Descri√ß√£o: ${d.breve}`);
      }
      base.push(`Protocolo: ${protocolo}`);
      base.push('Li e concordo com o Aviso de Privacidade acima e autorizo o envio desta solicita√ß√£o via WhatsApp Business (+55 11 95675-9223).');
      return base.join('\n');
    };

    const abrirWhatsApp=(msg)=>{
      const phone='5511956759223';
      const url=`https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
      window.location.href=url;
    };

    /* ========== L√ìGICA DE EXIBI√á√ÉO ========== */
    function toggleModo(){
      const v=$('#motivo').value;
      $('#sec-completo').classList.add('hide');
      $('#sec-simples').classList.add('hide');
      $('#tipo_wrap').classList.add('hide');

      if(v==='cadastro'){ // Op√ß√£o 1
        $('#sec-completo').classList.remove('hide');
      } else if(v==='emprestimos'){ // Op√ß√£o 2
        $('#sec-simples').classList.remove('hide');
        $('#tipo_wrap').classList.remove('hide');
      } else { // Op√ß√µes 3 e 4
        $('#sec-simples').classList.remove('hide');
      }
    }

    /* ========== VALIDA√á√ÉO E ENVIO ========== */
    $('#form').addEventListener('submit',e=>{
      e.preventDefault();
      if(!$('#lgpd').checked){alert('Voc√™ deve concordar com o Aviso de Privacidade.');return;}
      const v=$('#motivo').value;
      const modo=(v==='cadastro')?'completo':'simples';
      const d=coleta(modo);
      if(!d.nome||!d.cpf||!isValidCPF(d.cpf)||!d.cel){alert('Preencha os campos obrigat√≥rios corretamente.');return;}
      const protocolo=gerarProtocolo();
      const msg=montarMsg(d,modo,protocolo);
      abrirWhatsApp(msg);
    });

    /* ========== BIND INICIAL ========== */
    const binds=()=>{
      ['cpf','cpf_s'].forEach(id=>$( `#${id}`)?.addEventListener('input',e=>maskCPF(e.target)));
      ['cep','cep_s'].forEach(id=>$( `#${id}`)?.addEventListener('input',e=>maskCEP(e.target)));
      $('#ddd')?.addEventListener('input',e=>maskDDD(e.target));
      $('#cel')?.addEventListener('input',e=>maskFone(e.target));
      $('#nasc')?.addEventListener('input',e=>maskData(e.target));
      $('#cep')?.addEventListener('blur',()=>autoCEP($('#cep'),$('#cidade'),$('#uf'),$('#rua'),$('#bairro')));
      $('#cep_s')?.addEventListener('blur',()=>autoCEP($('#cep_s'),null,null,null,null,$('#cidadeuf_s')));
      $('#motivo')?.addEventListener('change',toggleModo);
      toggleModo();
    };
    document.readyState==='loading'?document.addEventListener('DOMContentLoaded',binds):binds();
  </script>
</body>
</html>