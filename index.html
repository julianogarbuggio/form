<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>FormulÃ¡rio | Juliano Garbuggio â€“ Advocacia & Consultoria</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #0f1222;
      --card: #171a2e;
      --ink: #e9ecff;
      --muted: #a9b0d6;
      --pri: #6c8cff;
      --pri-ink: #0a0e2b;
      --warn: #ffd166;
      --border: #2a2e4b;
      --accent: #b8c6ff;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height: 1.5;
    }

    .wrap {
      max-width: 960px;
      margin: 24px auto;
      padding: 0 16px;
    }

    /* ===== HEADER ===== */
    .hero {
      background: linear-gradient(180deg, #1c203d, #12152a);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px 18px 28px;
      margin-bottom: 18px;
      text-align: center;
    }

    .brand img {
      max-width: 240px;
      width: 100%;
      height: auto;
      display: block;
      margin: 0 auto 12px;
      filter: drop-shadow(0 2px 2px rgba(0,0,0,.35));
    }

    .hero h1 {
      margin: 8px 0;
      font-weight: 800;
      font-size: 1.7rem;
      color: #fff;
      letter-spacing: .7px;
    }

    .oabs {
      font-size: .82rem;
      color: var(--muted);
      margin-top: 6px;
    }

    .subtitle {
      color: var(--accent);
      font-weight: 600;
      margin-top: 12px;
      font-size: 1.05rem;
    }

    /* ===== FORM ===== */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      margin: 16px 0;
    }

    label {
      display: block;
      font-size: .92rem;
      color: var(--muted);
      margin-bottom: 6px;
    }

    input, select, textarea {
      width: 100%;
      background: #0f1330;
      color: var(--ink);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px;
      outline: none;
    }

    textarea { resize: vertical; min-height: 90px; }

    .section-title {
      margin: 0 0 10px;
      font-weight: 700;
      font-size: 1.1rem;
      color: #fff;
    }

    .inline {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .pill {
      display: flex;
      align-items: center;
      gap: 10px;
      border: 1px solid var(--border);
      padding: 8px 12px;
      border-radius: 999px;
      background: #10132b;
      cursor: pointer;
    }

    .pill input[type="radio"], .pill input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--pri);
    }

    .btn {
      display: inline-block;
      background: var(--pri);
      color: var(--pri-ink);
      font-weight: 700;
      border: none;
      border-radius: 12px;
      padding: 14px 18px;
      text-align: center;
      width: 100%;
      cursor: pointer;
      margin-top: 12px;
    }

    .btn:hover { background: #7a98ff; }

    footer {
      text-align: center;
      margin: 30px 0 20px;
      color: var(--muted);
      font-size: .84rem;
    }

    hr.sep {
      border: 0;
      border-top: 1px dashed var(--border);
      margin: 18px 0;
    }

    /* ===== IDENTIDADE DE GÃŠNERO ===== */
    .chips {
      display: grid;
      gap: 10px;
      grid-template-columns: 1fr;
    }

    @media (min-width: 580px) {
      .chips { grid-template-columns: 1fr 1fr; }
    }

    .chip {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #0f1330;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 8px 10px;
    }

    .chip input { width: 18px; height: 18px; accent-color: var(--pri); }

  </style>
</head>
<body>
  <div class="wrap">
    <header class="hero">
      <div class="brand">
        <picture>
          <source srcset="logo-juliano-garbuggio.png" type="image/png">
          <img src="Juliano-Garbuggio-Colorida.png" alt="Logo Juliano Garbuggio" />
        </picture>
      </div>
      <h1>JULIANO GARBUGGIO | ADVOCACIA & CONSULTORIA</h1>
      <div class="oabs">OAB/SP 505.598 | OAB/PR 47.565 | OAB/MG 234.362</div>
      <div class="subtitle">Preencha seus dados para atendimento especializado.</div>
    </header>

    <!-- FORM -->
    <form id="form" class="card">
      <h2 class="section-title">1) Contexto do Atendimento</h2>

      <label for="motivo">Motivo do atendimento *</label>
      <select id="motivo" name="motivo" required>
        <option value="RevisÃ£o de emprÃ©stimos">RevisÃ£o de emprÃ©stimos</option>
        <option value="ProcuraÃ§Ã£o">ProcuraÃ§Ã£o</option>
        <option value="AtualizaÃ§Ã£o de cadastro">AtualizaÃ§Ã£o de cadastro</option>
      </select>

      <label>Tipo de contato *</label>
      <div class="chips">
        <label class="pill"><input type="radio" name="tipo" value="Consignado INSS" required>Consignado INSS</label>
        <label class="pill"><input type="radio" name="tipo" value="Consignado pÃºblico/privado">Consignado pÃºblico/privado</label>
        <label class="pill"><input type="radio" name="tipo" value="Financiamento bancÃ¡rio">Financiamento bancÃ¡rio</label>
        <label class="pill"><input type="radio" name="tipo" value="Direito Digital">Direito Digital</label>
        <label class="pill"><input type="radio" name="tipo" value="Direito MÃ©dico">Direito MÃ©dico</label>
        <label class="pill"><input type="radio" name="tipo" value="Outros casos Direito Consumidor / Civil">Outros casos Direito Consumidor | Civil</label>
        <label class="pill"><input type="radio" name="tipo" value="DÃºvida geral">DÃºvida geral</label>
      </div>

      <hr class="sep">

      <h2 class="section-title">2) Dados para contato</h2>

      <label for="nome">Nome completo *</label>
      <input type="text" id="nome" name="nome" placeholder="Seu nome" required>

      <div class="inline">
        <div style="flex:1">
          <label for="cpf">CPF *</label>
          <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
        </div>
        <div style="flex:1">
          <label for="whats">WhatsApp *</label>
          <input type="tel" id="whats" name="whats" placeholder="(11) 95675-9223" required>
        </div>
      </div>

      <label for="email">E-mail</label>
      <input type="email" id="email" name="email" placeholder="voce@email.com">

      <label for="mensagem">Relate brevemente o motivo do contato</label>
      <textarea id="mensagem" name="mensagem" placeholder="Explique brevemente o motivo do contato"></textarea>

      <hr class="sep">

      <h2 class="section-title">IdentificaÃ§Ã£o complementar (opcional)</h2>
      <div class="inline">
        <label class="pill"><input type="radio" name="ident_toggle" value="Sim">Sim</label>
        <label class="pill"><input type="radio" name="ident_toggle" value="NÃ£o" checked>NÃ£o</label>
      </div>

      <div id="ident_extra" style="display:none">
        <label for="nome_social">Nome social</label>
        <input type="text" id="nome_social" name="nome_social" placeholder="Nome social">

        <label for="pronomes">Pronomes (ex.: ela/dela, ele/dele, elu/delu)</label>
        <input type="text" id="pronomes" name="pronomes" placeholder="Digite seus pronomes">
      </div>

      <hr class="sep">

      <h2 class="section-title">Auto DeclaraÃ§Ã£o - Identidade de GÃªnero (opcional)</h2>
      <div class="inline">
        <label class="pill"><input type="radio" name="ident_genero_toggle" value="Sim">Sim</label>
        <label class="pill"><input type="radio" name="ident_genero_toggle" value="NÃ£o" checked>NÃ£o</label>
      </div>

      <div id="ident_genero" style="display:none">
        <div class="chips">
          <label class="chip"><input type="checkbox" name="genero" value="Mulher cisgÃªnera">Mulher cisgÃªnera</label>
          <label class="chip"><input type="checkbox" name="genero" value="Homem cisgÃªnero">Homem cisgÃªnero</label>
          <label class="chip"><input type="checkbox" name="genero" value="Mulher transgÃªnera">Mulher transgÃªnera</label>
          <label class="chip"><input type="checkbox" name="genero" value="Homem transgÃªnero">Homem transgÃªnero</label>
          <label class="chip"><input type="checkbox" name="genero" value="Travesti">Travesti</label>
          <label class="chip"><input type="checkbox" name="genero" value="NÃ£o-binÃ¡rie">NÃ£o-binÃ¡rie</label>
          <label class="chip"><input type="checkbox" name="genero" value="Prefiro nÃ£o dizer">Prefiro nÃ£o dizer</label>
          <label class="chip"><input type="checkbox" name="genero" value="Outro">Outro (especifique): <input type="text" name="genero_outro" style="flex:1;background:#0f1330;color:#fff;border:none;padding:6px;"></label>
        </div>
      </div>

      <hr class="sep">

      <label><input type="checkbox" id="lgpd" required> Li e concordo com o Aviso de Privacidade e autorizo o envio desta solicitaÃ§Ã£o via WhatsApp Business (+55 11 95675-9223).</label>
      <button type="submit" class="btn">Salvar e Enviar WhatsApp</button>
    </form>

    <footer>
      Â© 2025 Juliano Garbuggio â€“ Advocacia & Consultoria â€” www.julianogarbuggio.adv.br<br>
      Juliano Garbuggio Sociedade Individual de Advocacia â€” OAB/SP 54.923 | CNPJ 35.142.789/0001-08<br>
      (11) 95675-9223
    </footer>
  </div>
  <script>
  // ===== Utilidades =====
  const $ = (s) => document.querySelector(s);
  const $$ = (s) => Array.from(document.querySelectorAll(s));

  // mÃ¡scaras
  function maskCPF(el){
    let v = (el.value||'').replace(/\D/g,'').slice(0,11);
    if(v.length>9) el.value = v.replace(/(\d{3})(\d{3})(\d{3})(\d{0,2})/, "$1.$2.$3-$4");
    else if(v.length>6) el.value = v.replace(/(\d{3})(\d{3})(\d{0,3})/, "$1.$2.$3");
    else if(v.length>3) el.value = v.replace(/(\d{3})(\d{0,3})/, "$1.$2");
    else el.value = v;
  }
  function maskWhats(el){
    let v = (el.value||'').replace(/\D/g,'').slice(0,11);
    if(v.length>6) el.value = v.replace(/(\d{2})(\d{5})(\d{0,4})/, "($1) $2-$3");
    else if(v.length>2) el.value = v.replace(/(\d{2})(\d{0,5})/, "($1) $2");
    else el.value = v;
  }

  // valida CPF
  function isValidCPF(str){
    const cpf = (str||'').replace(/\D/g,'');
    if (!cpf || cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) return false;
    let s = 0;
    for (let i=0;i<9;i++) s += parseInt(cpf[i])*(10-i);
    let r = 11 - (s%11); const d1 = r>=10?0:r;
    if (d1 !== parseInt(cpf[9])) return false;
    s = 0;
    for (let i=0;i<10;i++) s += parseInt(cpf[i])*(11-i);
    r = 11 - (s%11); const d2 = r>=10?0:r;
    return d2 === parseInt(cpf[10]);
  }

  // protocolo
  function gerarProtocolo(){
    const d=new Date(), p=n=>String(n).padStart(2,'0');
    return `JG-${d.getFullYear()}${p(d.getMonth()+1)}${p(d.getDate())}-${p(d.getHours())}${p(d.getMinutes())}${p(d.getSeconds())}-${Math.floor(1000+Math.random()*8999)}`;
  }

  // coleta chips selecionados
  function getCheckedValues(name){
    return $$(`input[name="${name}"]:checked`).map(c=>c.value);
  }

  // mostra/oculta blocos opcionais
  function setupToggles(){
    $$('input[name="ident_toggle"]').forEach(r=>{
      r.addEventListener('change', ()=>{
        const show = r.value === 'Sim' && r.checked;
        $('#ident_extra').style.display = show ? 'block' : 'none';
      });
    });
    $$('input[name="ident_genero_toggle"]').forEach(r=>{
      r.addEventListener('change', ()=>{
        const show = r.value === 'Sim' && r.checked;
        $('#ident_genero').style.display = show ? 'block' : 'none';
      });
    });
  }

  // monta mensagem (cadastro + protocolo)
  function montarMensagem(){
    const nome = $('#nome').value.trim();
    const cpf  = $('#cpf').value.trim();
    const whats = $('#whats').value.trim();
    const email = $('#email').value.trim();
    const motivo = $('#motivo').value;
    const tipo = ($$('input[name="tipo"]').find(r=>r.checked)||{}).value || 'â€”';
    const breve = $('#mensagem').value.trim();

    const identON   = $$('input[name="ident_toggle"]').find(r=>r.checked)?.value === 'Sim';
    const nomeSocial= $('#nome_social').value.trim();
    const pronomes  = $('#pronomes').value.trim();

    const genON     = $$('input[name="ident_genero_toggle"]').find(r=>r.checked)?.value === 'Sim';
    const generos   = getCheckedValues('genero');
    const generoOutro = (document.querySelector('input[name="genero_outro"]')?.value||'').trim();

    const protocolo = gerarProtocolo();

    const linhas = [
      `ðŸ“ Novo cadastro â€“ *${nome}*`,
      '',
      `Motivo: ${motivo}`,
      `Tipo: ${tipo}`,
      `CPF: ${cpf} | WhatsApp: ${whats}`,
      email ? `E-mail: ${email}` : '',
      breve ? `DescriÃ§Ã£o: ${breve}` : '',
      identON && (nomeSocial || pronomes) ? '' : '',
      identON && nomeSocial ? `Nome social: ${nomeSocial}` : '',
      identON && pronomes   ? `Pronomes: ${pronomes}` : '',
      genON && (generos.length || generoOutro) ? `Identidade de gÃªnero: ${[...generos, generoOutro?`Outro: ${generoOutro}`:''].filter(Boolean).join(', ')}` : '',
      '',
      `Protocolo: ${protocolo}`,
      '',
      'Li e concordo com o Aviso de Privacidade acima e autorizo o envio desta solicitaÃ§Ã£o via WhatsApp Business (+55 11 95675-9223).'
    ].filter(Boolean);

    return { texto: linhas.join('\n'), protocolo };
  }

  // envio fixo e exclusivo para o seu nÃºmero (nÃ£o abre seletor de contatos no iOS)
  function enviarWhatsApp(texto){
    const DESTINO = '5511956759223'; // +55 11 95675-9223
    const url = `https://api.whatsapp.com/send?phone=${DESTINO}&text=${encodeURIComponent(texto)}`;
    // redireciona na mesma aba para evitar tela de contato
    window.location.assign(url);
  }

  // validaÃ§Ã£o mÃ­nima
  function validar(){
    const erros = [];
    if (!$('#lgpd').checked) erros.push('VocÃª precisa concordar com o Aviso de Privacidade.');
    const nome = $('#nome').value.trim();
    const cpf  = $('#cpf').value.trim();
    const whats= $('#whats').value.replace(/\D/g,'');
    if (!nome) erros.push('Informe o nome.');
    if (!isValidCPF(cpf)) erros.push('CPF invÃ¡lido.');
    if (!(whats.length===11)) erros.push('WhatsApp invÃ¡lido (use DDD + nÃºmero, ex.: (11) 95675-9223).');
    const tipoOk = $$('input[name="tipo"]').some(r=>r.checked);
    if (!tipoOk) erros.push('Selecione o tipo de contato.');
    if (erros.length){
      alert('Ajuste os campos:\nâ€¢ ' + erros.join('\nâ€¢ '));
      return false;
    }
    return true;
  }

  // binds
  function bind(){
    // mÃ¡scaras
    $('#cpf').addEventListener('input', e=>maskCPF(e.target));
    $('#whats').addEventListener('input', e=>maskWhats(e.target));

    setupToggles();

    // submit
    $('#form').addEventListener('submit', (e)=>{
      e.preventDefault();
      if (!validar()) return;
      const { texto } = montarMensagem();
      enviarWhatsApp(texto);
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', bind);
  } else {
    bind();
  }
</script>
</body>
</html>